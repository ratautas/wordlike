import{S as q,i as C,s as D,k as m,a as x,q as g,l as d,m as _,h as i,c as A,r as k,n as E,b as y,J as c,B as O,L as I,u as M}from"../../chunks/index-932b5f3a.js";import{e as N}from"../../chunks/forms-311cccc9.js";import{s as w}from"../../chunks/supabase-4de9858b.js";function F(b){let e,r,u,n,t,h;return{c(){e=m("div"),r=m("a"),u=g("Login"),n=x(),t=m("a"),h=g("Register"),this.h()},l(f){e=d(f,"DIV",{});var a=_(e);r=d(a,"A",{href:!0});var o=_(r);u=k(o,"Login"),o.forEach(i),n=A(a),t=d(a,"A",{href:!0});var s=_(t);h=k(s,"Register"),s.forEach(i),a.forEach(i),this.h()},h(){E(r,"href","/login"),E(t,"href","/register")},m(f,a){y(f,e,a),c(e,r),c(r,u),c(e,n),c(e,t),c(t,h)},p:O,d(f){f&&i(e)}}}function J(b){let e,r,u,n,t,h,f=b[0].session.user.email+"",a,o,s,v,L,S,R;return{c(){e=m("a"),r=m("b"),u=g("Sites"),n=x(),t=m("p"),h=g("user: "),a=g(f),o=x(),s=m("form"),v=m("button"),L=g("Logout"),this.h()},l(l){e=d(l,"A",{href:!0});var p=_(e);r=d(p,"B",{});var B=_(r);u=k(B,"Sites"),B.forEach(i),p.forEach(i),n=A(l),t=d(l,"P",{});var H=_(t);h=k(H,"user: "),a=k(H,f),H.forEach(i),o=A(l),s=d(l,"FORM",{action:!0,method:!0});var P=_(s);v=d(P,"BUTTON",{type:!0});var T=_(v);L=k(T,"Logout"),T.forEach(i),P.forEach(i),this.h()},h(){E(e,"href","/manage/sites"),E(v,"type","submit"),E(s,"action","/logout"),E(s,"method","POST")},m(l,p){y(l,e,p),c(e,r),c(r,u),y(l,n,p),y(l,t,p),c(t,h),c(t,a),y(l,o,p),y(l,s,p),c(s,v),c(v,L),S||(R=I(N.call(null,s,b[1])),S=!0)},p(l,p){p&1&&f!==(f=l[0].session.user.email+"")&&M(a,f)},d(l){l&&i(e),l&&i(n),l&&i(t),l&&i(o),l&&i(s),S=!1,R()}}}function U(b){let e,r,u,n,t;function h(o,s){return o[0].session?J:F}let f=h(b),a=f(b);return{c(){e=m("main"),r=m("header"),a.c(),u=x(),n=m("h1"),t=g("Home"),this.h()},l(o){e=d(o,"MAIN",{class:!0});var s=_(e);r=d(s,"HEADER",{});var v=_(r);a.l(v),v.forEach(i),u=A(s),n=d(s,"H1",{class:!0});var L=_(n);t=k(L,"Home"),L.forEach(i),s.forEach(i),this.h()},h(){E(n,"class","text-5xl font-extrabold text-center p-16"),E(e,"class","min-h-screen")},m(o,s){y(o,e,s),c(e,r),a.m(r,null),c(e,u),c(e,n),c(n,t)},p(o,[s]){f===(f=h(o))&&a?a.p(o,s):(a.d(1),a=f(o),a&&(a.c(),a.m(r,null)))},i:O,o:O,d(o){o&&i(e),a.d()}}}function V(b,e,r){let{data:u}=e;const n=async({cancel:t})=>{const{error:h}=await w.auth.signOut();h&&console.log(h),t()};return b.$$set=t=>{"data"in t&&r(0,u=t.data)},[u,n]}class K extends q{constructor(e){super(),C(this,e,V,U,D,{data:0})}}export{K as default};
