import{S as pt,i as ut,s as gt,k as p,a as I,q as A,l as u,m as y,c as X,r as O,h as g,n as t,b as ot,J as e,L as nt,B as lt,M as ft,N as mt,u as yt,E as bt}from"../../../../chunks/index-932b5f3a.js";import{e as ct}from"../../../../chunks/forms-311cccc9.js";import{s as dt}from"../../../../chunks/supabase-4de9858b.js";const _t=[{id:"page1",slug:"slug1",isHome:!0,children:[{id:"grid123",type:"GRID",desktop:{x:0,y:-228,width:672,height:900},children:[{id:"id012",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:112,y:236,width:100,snapLeft:!0,snapRight:!0,height:24}},{id:"83e394eb-397a-4ccd-ad0a-eddc3d70ec8c",html:"<p>I’m not superstitious, but I am a little stitious.</p>",type:"TEXT",desktop:{x:164.15625,y:349,width:291.84375,snapLeft:!0,height:48}},{id:"03976e65-fefb-4f10-adb6-9f119cd9e73b",html:"<p>I’m not saying I invented the question mark. But I’m also not saying I didn’t.</p>",type:"TEXT",desktop:{x:53.78125,y:13,width:251.84375,height:72}},{id:"5c2b6d22-609d-4c7a-9598-64c819026d8b",html:"<p>I wish there was a way to know you’re in the good old days before you’ve actually left them.</p>",type:"TEXT",desktop:{x:420.15625,y:115,width:251.84375,height:72}},{id:"7866e028-0a75-42c7-91b7-3792f05c750a",html:"<p>And I knew exactly what to do. But in a much more real sense, I had no idea what to do.</p>",type:"TEXT",desktop:{x:0,y:122,width:251.84375,height:72}}]},{id:"grid456",type:"GRID",desktop:{width:672,height:900},children:[{id:"id1231",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:405,y:97,width:190,height:24}},{id:"id4561",html:"<p>This is a bit larger text block</p><p>Try interacting with it!</p>",type:"TEXT",desktop:{x:278,y:186,width:300,height:100}},{id:"id7891",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:22,y:261,width:300,height:24}},{id:"id0121",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:82,y:71,width:300,height:24}}]}]},{id:"page2",slug:"slug2",children:[{id:"grid123",type:"GRID",desktop:{x:0,y:-228,width:672,height:900},children:[{id:"id123",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:345,y:298,width:251,height:24}},{id:"id456",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:0,y:304,width:441,height:24}},{id:"id789",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:396,y:97,width:205,height:24}},{id:"id012",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:112,y:236,width:100,height:24}}]},{id:"grid456",type:"GRID",desktop:{width:672,height:900},children:[{id:"id1231",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:405,y:97,width:190,height:24}},{id:"id4561",html:"<p>This is a bit larger text block</p><p>Try interacting with it!</p>",type:"TEXT",desktop:{x:278,y:186,width:300,height:100}},{id:"id7891",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:22,y:261,width:300,height:24}},{id:"id0121",html:"<h1>hi gang</h1>",type:"TEXT",desktop:{x:82,y:71,width:300,height:24}}]}]}],vt={pages:_t};function rt(o,s,l){const m=o.slice();return m[6]=s[l],m}function ht(o){let s,l,m,T,a,f,w,x,n,h,c=`${o[6].id}.stebink.vercel.app`,d,r,b,i,v,P,R,q,U,F,D,S,z,B,H,k,V,J,G,L,j,K,Q;function W(...E){return o[4](o[6],...E)}return{c(){s=p("div"),l=p("img"),T=I(),a=p("div"),f=p("div"),w=A("contentenditable title"),x=I(),n=p("div"),h=p("a"),d=A(c),b=I(),i=p("div"),v=p("span"),P=A("Last updated"),R=I(),q=p("span"),U=A("2 days ago"),F=I(),D=p("div"),S=p("a"),z=A("edit"),H=I(),k=p("form"),V=p("button"),J=A("delete"),j=I(),this.h()},l(E){s=u(E,"DIV",{class:!0});var _=y(s);l=u(_,"IMG",{class:!0,src:!0,alt:!0,srcset:!0}),T=X(_),a=u(_,"DIV",{class:!0});var N=y(a);f=u(N,"DIV",{class:!0,contenteditable:!0});var Y=y(f);w=O(Y,"contentenditable title"),Y.forEach(g),x=X(N),n=u(N,"DIV",{});var Z=y(n);h=u(Z,"A",{href:!0,target:!0,rel:!0,class:!0});var $=y(h);d=O($,c),$.forEach(g),Z.forEach(g),b=X(N),i=u(N,"DIV",{});var M=y(i);v=u(M,"SPAN",{class:!0});var tt=y(v);P=O(tt,"Last updated"),tt.forEach(g),R=X(M),q=u(M,"SPAN",{class:!0});var et=y(q);U=O(et,"2 days ago"),et.forEach(g),M.forEach(g),F=X(N),D=u(N,"DIV",{class:!0});var C=y(D);S=u(C,"A",{class:!0,href:!0});var it=y(S);z=O(it,"edit"),it.forEach(g),H=X(C),k=u(C,"FORM",{action:!0,method:!0});var at=y(k);V=u(at,"BUTTON",{type:!0,class:!0});var st=y(V);J=O(st,"delete"),st.forEach(g),at.forEach(g),C.forEach(g),N.forEach(g),j=X(_),_.forEach(g),this.h()},h(){t(l,"class","w-48 h-36"),mt(l.src,m="https://cdn.dribbble.com/userupload/4361632/file/original-61839d1d6a5419cf184e3027f3db55d8.png?compress=1&resize=360x240")||t(l,"src",m),t(l,"alt",""),t(l,"srcset",""),t(f,"class","text-lg font-semibold"),t(f,"contenteditable","true"),t(h,"href",r=`https://${o[6].id}.stebink.vercel.app`),t(h,"target","_blank"),t(h,"rel","noopener noreferrer"),t(h,"class","text-gray-500 text-sm"),t(v,"class","text-gray-700 text-sm"),t(q,"class","text-gray-700 text-sm"),t(S,"class","inline-block rounded px-2 py-1 bg-gradient-to-tr from-blue-400 to-blue-600 text-white mr-2"),t(S,"href",B="/site/"+o[6].id),t(V,"type","submit"),t(V,"class","rounded px-2 py-1 bg-gradient-to-tr from-red-400 to-red-600 text-white"),t(k,"action",G="?/delete&siteId="+o[6].id),t(k,"method","POST"),t(D,"class","py-2 flex"),t(a,"class","w-full p-4"),t(s,"class","border-b-[1px] border-gray-200 py-6 flex")},m(E,_){ot(E,s,_),e(s,l),e(s,T),e(s,a),e(a,f),e(f,w),e(a,x),e(a,n),e(n,h),e(h,d),e(a,b),e(a,i),e(i,v),e(v,P),e(i,R),e(i,q),e(q,U),e(a,F),e(a,D),e(D,S),e(S,z),e(D,H),e(D,k),e(k,V),e(V,J),e(s,j),K||(Q=nt(L=ct.call(null,k,W)),K=!0)},p(E,_){o=E,_&1&&c!==(c=`${o[6].id}.stebink.vercel.app`)&&yt(d,c),_&1&&r!==(r=`https://${o[6].id}.stebink.vercel.app`)&&t(h,"href",r),_&1&&B!==(B="/site/"+o[6].id)&&t(S,"href",B),_&1&&G!==(G="?/delete&siteId="+o[6].id)&&t(k,"action",G),L&&bt(L.update)&&_&1&&L.update.call(null,W)},d(E){E&&g(s),K=!1,Q()}}}function Tt(o){let s,l,m,T,a,f,w,x,n,h,c=o[0],d=[];for(let r=0;r<c.length;r+=1)d[r]=ht(rt(o,c,r));return{c(){s=p("main"),l=p("div"),m=p("input"),T=I(),a=p("form"),f=p("button"),w=A("+ New"),x=I();for(let r=0;r<d.length;r+=1)d[r].c();this.h()},l(r){s=u(r,"MAIN",{class:!0});var b=y(s);l=u(b,"DIV",{class:!0});var i=y(l);m=u(i,"INPUT",{type:!0,class:!0,placeholder:!0}),T=X(i),a=u(i,"FORM",{action:!0,class:!0,method:!0});var v=y(a);f=u(v,"BUTTON",{type:!0,class:!0});var P=y(f);w=O(P,"+ New"),P.forEach(g),v.forEach(g),i.forEach(g),x=X(b);for(let R=0;R<d.length;R+=1)d[R].l(b);b.forEach(g),this.h()},h(){t(m,"type","text"),t(m,"class","w-10/12"),t(m,"placeholder","Search the sites"),t(f,"type","submit"),t(f,"class","rounded px-2 py-1 bg-gradient-to-tr from-blue-400 to-blue-600 text-white"),t(a,"action","?/create"),t(a,"class","w-2/12"),t(a,"method","POST"),t(l,"class","flex gap-4"),t(s,"class","max-w-4xl mx-auto p-4")},m(r,b){ot(r,s,b),e(s,l),e(l,m),e(l,T),e(l,a),e(a,f),e(f,w),e(s,x);for(let i=0;i<d.length;i+=1)d[i].m(s,null);n||(h=nt(ct.call(null,a,o[1])),n=!0)},p(r,[b]){if(b&5){c=r[0];let i;for(i=0;i<c.length;i+=1){const v=rt(r,c,i);d[i]?d[i].p(v,b):(d[i]=ht(v),d[i].c(),d[i].m(s,null))}for(;i<d.length;i+=1)d[i].d(1);d.length=c.length}},i:lt,o:lt,d(r){r&&g(s),ft(d,r),n=!1,h()}}}function wt(o,s,l){let{data:m}=s,{session:T,sites:a}=m;const f=async({cancel:n})=>{const{data:h,error:c}=await dt.from("sites").insert({doc:vt,user_id:T==null?void 0:T.user.id}).select();c&&n(),h&&l(0,a=[h[0],...a])},w=async({cancel:n},h)=>{console.log("handleDeleteSubmit",{siteId:h});try{const{error:c}=await dt.from("sites").delete().eq("id",h);c&&(console.log(c),n()),l(0,a=a.filter(d=>d.id!==h))}catch(c){n(),console.log(c)}},x=(n,h)=>w(h,n.id);return o.$$set=n=>{"data"in n&&l(3,m=n.data)},[a,f,w,m,x]}class It extends pt{constructor(s){super(),ut(this,s,wt,Tt,gt,{data:3})}}export{It as default};
