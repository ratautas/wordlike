---
import { Text, getGridVars } from "@wordlike/nebula";
import type { ElementType } from "@wordlike/nebula/package/schema";
import "@wordlike/nebula/package/style/grid.css";

const { elementData } = Astro.props;
const { children, type } = elementData ?? {};
const { gridCssVars, elementCssVars } =
    type === "GRID" && getGridVars(elementData);
---

{
    type === "GRID" && (
        <div class="grid" style={gridCssVars}>
            {children.map((child: ElementType, i: number) => (
                <div class="element" style={elementCssVars[i]}>
                    <Astro.self elementData={child} />
                </div>
            ))}
        </div>
    )
}

{type === "TEXT" && <Text {elementData} client:load />}
